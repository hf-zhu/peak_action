name: Send notification on push
on:
  push:
    branches: [main, master]
  pull_request:
    branches: [main, master]
  workflow_dispatch:
  schedule:
    # 可自定义 cron 表达式
    - cron: '30 1,2 * * 4'

jobs:
  send-msg:
    runs-on: ubuntu-latest
    steps:
      # 纯文本类型
      - name: Sending Wechat Work Message
        uses: x-actions/wechat-work@master
        env:
          PUSH_PLUS_TOKEN: ${{ secrets.PUSH_PLUS_TOKEN }}
          MSGTYPE: markdown
          CONTENT: |
          # Wechat Work Noti\n > ^_^
